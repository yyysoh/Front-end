<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<title>jQuery DOM</title>
	<style>
		.ancestors,
		.ancestors * {
			display: block;
			border: 2px solid grey;
			color: grey;
			padding: 3px;
			margin: 10px;
		}

		.selected {
			color: red;
			border: 2px solid red;
		}

		#btnbox {
			position: fixed;
			right: 0px;
			top: 0px;
			border: 1px cyan solid;
			width: 150px;
			background-color: rgba(255, 255, 255, 0.7);
		}

		button {
			color: black;
			border: 1px solid black;
			margin: 2px;
		}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script>
		/*
$(selector) 의 결과에는 '선택된 element(들)' 이 담겨 있다.
이 선택된 element 에서 다시 DOM 구조내의 원하는 element 들로 이동/선택할수 있는
다양하고 편리한 메소드들이 제공된다.

Iteration
	~ .each(function) : select된 각element 에 대한 동작 수행.
		https://api.jquery.com/each/

Traversing Up:
 	~ .parent() : ~ 의 부모 선택
	~ .parents() : ~ 의 상위 요소(들) 모두 선택
	~ .parents(selector) : ~ 의 상위 요소(들) 중  selector 지정요소들만 선택
	~ .parentsUntil(selector)  ~ 의 상위 요소(들) 중 selector 지정요소 전까지 모두 선택
	
Traversing Down: 
	~ .children() : ~ 의 자식 요소(들) 모두 선택
	~ .children(selector) : ~ 의 자식 요소(들) 중  selector 지정요소들만 선택
	~ .find() : ~ 의 자손 요소(들) 모두 선택
	~ .find(selector) : ~ 의 자손 요소(들) 중 selector 지정요소들만 선택

Traversing Sibling:
	~ .siblings() : ~ 의 형제 요소(들) 모두 선택ctor 
	~ .siblings(selector) : ~ 의 형제 요소(들) 중  selector 지정요소들만 선택
	~ .next() : ~ 의 다음 요소 하나 선택 (동생)
	~ .nextAll() : ~ 의 다음 요소(들) 모두 선택
	~ .nextUntil(selector) : ~ 의 동생 요소(들) 중 selector 지정요소 전까지 모두 선택
	~ .prev() : ~ 의 이전 요소 (하나) 선택  (형..)
	~ .prevAll() : ~ 의 이전 요소(들) 모두 선택
	~ .prevUntil() : ~ 의 이전 요소(들) 중 selector 지정요소 전까지 모두 선택
				
참조 :
	https://www.w3schools.com/jquery/jquery_traversing.asp
	https://www.w3schools.com/jquery/jquery_ref_traversing.asp
*/

		$(document).ready(function () {

			// 어떤 버튼이든지 눌리면 selected 클래스 제거
			$("button").click(function () {
				// TODO
				$("*").removeClass("selected");
			});

			//---------------------------------------------
			// ~ .each(function) : select된 각element 에 대한 동작 수행.
			$("#btn01").click(function () { //span element에 대한 동작
				$("span").each(function(index){ //일련의 동작을 할 땐 each 써서 수행할 코드 불러옴
					$(this).addClass("selected"); //selected 된 것들
					$(this).text($(this).text() + index); //텍스트 바뀜
					//매개변수에 index 누르고 $(this).text() + index 하면
					//기존에 있었던 것에 index 추가
				}) ;
			});

			// ~ .parent() : ~ 의 부모 선택
			$("#btn11").click(function () {
				$("span").parent().addClass("selected"); //span의 부모 선택
			});

			// ~ .parents() : ~ 의 상위 요소(들) 모두 선택
			$("#btn12").click(function () {
				$("span").parents().addClass("selected");  ;
			});

			// ~ .parents(selector) : ~ 의 상위 요소(들) 중  selector 지정요소들만 선택
			$("#btn13").click(function () {
				$("span").parents("div").addClass("selected");
			});

			// ~ .parentsUntil(selector)  ~ 의 상위 요소(들) 중 selector 지정요소 전까지 모두 선택
			$("#btn14").click(function () {
				$("span").parentsUntil("div").addClass("selected"); //span의 부모인데 div 전까지
			});

			//-----------------------------------------
			//
			// ~ .children() : ~ 의 자식 요소(들) 모두 선택
			$("#btn21").click(function () {
				$("div").children().addClass("selected");
			});

			// ~ .children(selector) : ~ 의 자식 요소(들) 중  selector 지정요소들만 선택
			$("#btn22").click(function () {
				$("div").children("p").addClass("selected");;
			});

			// ~ .find() : ~ 의 자손 요소(들) 모두 선택
			// ~ .find(selector) : ~ 의 자손 요소(들) 중 selector 지정요소들만 선택
			$("#btn23").click(function () {
				$("div").find("span").addClass("selected"); //매개변수 있어야 함
			}); //자손 모두 다 선택하려면 *. 버튼 박스에 있는 것도 선택됨

			// ~ .find("*") : 자손들 모두 선택
			$("#btn24").click(function () {
				$("div").find("*").addClass("selected");
			});

			//-----------------------------------------
			// ~ .siblings() : ~ 의 형제 요소(들) 모두 선택
			$("#btn31").click(function () {
				$("#sibling h2").siblings().addClass("selected"); //h2의 형제들
			});

			// ~ .siblings(selector) : ~ 의 형제 요소(들) 중  selector 지정요소들만 선택
			$("#btn32").click(function () {
				$("#sibling h2").siblings("p").addClass("selected"); //형제 중에 p만
			});

			// ~ .next() : ~ 의 다음 요소 하나 선택 (동생)
			$("#btn33").click(function () {
				$("#sibling h2").next().addClass("selected");
			});

			// ~ .nextAll() : ~ 의 다음 요소(들) 모두 선택  내 밑으로 다 집합!
			$("#btn34").click(function () {
				$("#sibling h2").nextAll().addClass("selected");
			});

			// ~ .nextUntil(selector) : ~ 의 동생 요소(들) 중 selector 지정요소 전까지 모두 선택
			$("#btn35").click(function () {
				$("#sibling h2").nextUntil("h6").addClass("selected"); //h2 동생부터 h6 직전까지 선택
			});

			// TODO.. 나머지는 직접 해보자
			// ~ .prev() : ~ 의 이전 요소 (하나) 선택  (형..)
			$("#btn36").click(function () {
				$("#sibling h5").prev().addClass("selected");;
			});

			// ~ .prevAll() : ~ 의 이전 요소(들) 모두 선택
			$("#btn37").click(function () {
				$("#sibling h5").prevAll().addClass("selected");;
			});

			// ~ .prevUntil() : ~ 의 이전 요소(들) 중 selector 지정요소 전까지 모두 선택
			$("#btn38").click(function () {
				$("#sibling h5").prevUntil("span").addClass("selected");
			});

		});
	</script>
</head>

<body>
	<h2>Traversing</h2>
	body

	<div class="ancestors">div.ancestors
		<div>div
			<ul>ul
				<li>li
					<span>span</span>
				</li>
			</ul>
		</div>

		<div>div
			<p>p
				<span>span</span>
			</p>
		</div>

		<div id="sibling">div (parent) #sibling
			<p>p</p>
			<span>span</span>
			<h2>h2</h2>
			<h3>h3</h3>
			<h4>h4</h4>
			<h5>h5</h5>
			<h6>h6</h6>
			<p>p</p>
		</div>

	</div>

	<div id="btnbox">
		<button id="btn01">btn01 each()</button>
		<br><br>

		<button id="btn11">btn11 parent()</button>
		<button id="btn12">btn12 parents()</button>
		<button id="btn13">btn13 parents(..)</button>
		<button id="btn14">btn14 parentsUntil()</button>
		<br><br>

		<button id="btn21">btn21 children()</button>
		<button id="btn22">btn22 children(..)</button>
		<button id="btn23">btn23 find(..)</button>
		<button id="btn24">btn24 find(*)</button>
		<br><br>

		<button id="btn31">btn31 siblings()</button>
		<button id="btn32">btn32 siblings(..)</button>
		<button id="btn33">btn33 next()</button>
		<button id="btn34">btn34 nextAll()</button>
		<button id="btn35">btn35 nextUntil()</button>
		<button id="btn36">btn36 prev()</button>
		<button id="btn37">btn37 prevAll()</button>
		<button id="btn38">btn38 prevUntil()</button>
	</div>


	<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>

</html>